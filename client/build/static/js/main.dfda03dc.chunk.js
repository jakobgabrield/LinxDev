(this.webpackJsonplinx=this.webpackJsonplinx||[]).push([[0],{112:function(e,t,a){},113:function(e,t,a){},138:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),i=a.n(c),s=(a(112),a(10)),o=(a(113),a(61)),l=a(15),u=a.n(l),d=a(24),j=a(165),b=a(169),m=a(168),O=a(170),x=a(171),h=a(186),f=a.p+"static/media/link.24598efa.svg",p=a(58),g=a.n(p),v=a(185),C=a(173),k=a(181),y=a(81),N=a.n(y),w=a(82),S=a.n(w),L=a(20),_=a.n(L),F=_.a.create({baseURL:"/"}),U=a(2),T=Object(j.a)((function(e){return{root:{width:"100%",maxWidth:360,backgroundColor:e.palette.background.paper},nested:{paddingLeft:e.spacing(4)}}}));function I(e){var t=e.setSelectedFolder,a=e.user,r=Object(n.useState)([]),c=Object(s.a)(r,2),i=c[0],l=c[1];Object(n.useEffect)((function(){j()}),[i]);var j=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/folders/".concat(a.u_id));case 2:t=e.sent,l(t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=T(),y=Object(n.useState)(!1),w=Object(s.a)(y,2),L=w[0],I=w[1],W=Object(n.useState)(""),A=Object(s.a)(W,2),D=A[0],q=A[1],E=Object(n.useState)(""),J=Object(s.a)(E,2),z=J[0],P=J[1],R=function(){q(""),P(""),I(!L)},B=function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this folder? All associated links will be permanently lost.")){e.next=6;break}return e.next=4,F.delete("/folders/".concat(a));case 4:j(),t(null);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)("div",{className:"sidebar",children:[Object(U.jsx)("div",{className:"sidebar-header",children:Object(U.jsx)("img",{className:"sidebar-header-logo",src:f})}),Object(U.jsxs)("div",{className:"sidebar-userCard",children:[Object(U.jsx)(h.a,{className:"sidebar-header-avatar",children:a.first_name[0]+a.last_name[0]}),Object(U.jsxs)("div",{className:"sidebar-userCard-text",children:[Object(U.jsx)("text",{className:"sidebar-userCard-text-name",children:a.first_name+" "+a.last_name}),Object(U.jsx)("text",{className:"sidebar-userCard-text-userType",children:"User"})]})]}),Object(U.jsxs)("div",{className:"sidebar-main-container",children:[Object(U.jsx)(m.a,{style:{maxHeight:"100%",overflow:"auto"},component:"nav","aria-labelledby":"nested-list-subheader",subheader:Object(U.jsx)(b.a,{component:"div",id:"nested-list-subheader",children:"Your Folders"}),className:p.root,children:i.map((function(e){return Object(U.jsxs)(O.a,{button:!0,onClick:function(){t(e)},children:[Object(U.jsx)(x.a,{primary:e.name}),Object(U.jsx)(N.a,{style:{marginLeft:"2px"}}),Object(U.jsx)(S.a,{style:{marginLeft:"2px"},onClick:function(){return B(e.f_id)}})]},e.f_id)}))}),Object(U.jsxs)(O.a,{onClick:R,className:"add-folder-btn",button:!0,children:[Object(U.jsx)(g.a,{style:{color:"gray"}}),Object(U.jsx)(x.a,{style:{color:"gray"},primary:"Add Folder"})]})]}),Object(U.jsx)("div",{children:Object(U.jsx)(v.a,{onClose:function(){return null},"aria-labelledby":"customized-dialog-title",open:L,children:Object(U.jsxs)("div",{className:"dialog",children:[Object(U.jsx)("text",{children:"New Folder"}),Object(U.jsx)(k.a,{id:"outlined-multiline-static",label:"Name",rows:1,variant:"outlined",value:D,onChange:function(e){return q(e.target.value)}}),Object(U.jsx)(k.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,rows:10,variant:"outlined",value:z,onChange:function(e){return P(e.target.value)}}),Object(U.jsxs)("div",{className:"dialog-buttons",children:[Object(U.jsx)(C.a,{onClick:function(){""!==D.trim()&&""!==z.trim()?(F.post("/",{name:D,description:z,u_id:a.u_id}),l([].concat(Object(o.a)(i),[{name:D,description:z,u_id:a.u_id}]))):alert("Folder name and description are required."),q(""),P(""),I(!L)},children:"Add"}),Object(U.jsx)(C.a,{onClick:R,children:"Cancel"})]})]})})})]})}var W=a(175),A=a(85),D=a.n(A),q=a(83),E=a.n(q),J=a(84),z=a.n(J),P=a(174),R=a(187),B=a(46),M=Object(j.a)((function(e){return{typography:{padding:e.spacing(2)}}}));function Y(e){var t=e.logout,a=e.user,n=e.logoutUser,c=M(),i=r.a.useState(null),o=Object(s.a)(i,2),l=o[0],u=o[1],d=Boolean(l);return Object(U.jsxs)("div",{className:"header",children:[Object(U.jsx)(P.a,{children:Object(U.jsx)(E.a,{fontSize:"medium"})}),Object(U.jsxs)("div",{className:"header-icon-container",children:[Object(U.jsx)(W.a,{className:"header-icon",badgeContent:1,color:"error",children:Object(U.jsx)(P.a,{children:Object(U.jsx)(z.a,{})})}),Object(U.jsx)(P.a,{className:"header-icon",children:Object(U.jsx)(D.a,{})}),Object(U.jsx)(P.a,{onClick:function(e){u(e.currentTarget)},className:"header-icon",children:Object(U.jsx)(h.a,{children:a.first_name[0]+a.last_name[0]})}),Object(U.jsx)(R.a,{open:d,anchorEl:l,onClose:function(){u(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"},children:Object(U.jsx)(B.a,{style:{cursor:"pointer"},onClick:function(){t(),n(0)},className:c.typography,children:"Logout"})})]})]})}var V=function(e){var t=e.selectedFolder,a=Object(n.useState)([]),r=Object(s.a)(a,2),c=r[0],i=r[1],l=function(){var e=Object(d.a)(u.a.mark((function e(){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.a.get("/links/".concat(t.f_id));case 2:a=e.sent,i(a.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(n.useEffect)((function(){t&&l()}),[c,t]);var j=Object(n.useState)(!1),b=Object(s.a)(j,2),m=b[0],O=b[1],x=Object(n.useState)(""),h=Object(s.a)(x,2),f=h[0],p=h[1],y=Object(n.useState)(""),N=Object(s.a)(y,2),w=N[0],S=N[1],L=Object(n.useState)(""),T=Object(s.a)(L,2),I=T[0],W=T[1];return Object(U.jsxs)("div",{className:"master-content",children:[Object(U.jsx)("text",{className:"selected-folder-name",children:t&&t.name}),Object(U.jsxs)("div",{className:"content",children:[c.map((function(e){return Object(U.jsx)("div",{className:"link",onClick:function(){window.open(e.url,"_blank")},children:Object(U.jsx)("img",{src:"//image.thum.io/get/width/300/crop/600/".concat(e.url)})},e.l_id)})),t&&Object(U.jsx)("div",{className:"add-link-btn",onClick:function(){O(!0)},children:Object(U.jsx)(g.a,{})})]}),Object(U.jsx)(v.a,{onClose:function(){return null},"aria-labelledby":"customized-dialog-title",open:m,children:Object(U.jsxs)("div",{className:"dialog",children:[Object(U.jsx)("text",{children:"New Link"}),Object(U.jsx)(k.a,{id:"outlined-multiline-static",label:"Name",rows:1,variant:"outlined",value:f,onChange:function(e){return p(e.target.value)}}),Object(U.jsx)(k.a,{id:"outlined-multiline-static",label:"URL",multiline:!0,rows:1,variant:"outlined",value:w,onChange:function(e){return S(e.target.value)}}),Object(U.jsx)(k.a,{id:"outlined-multiline-static",label:"Description",multiline:!0,rows:10,variant:"outlined",value:I,onChange:function(e){return W(e.target.value)}}),Object(U.jsxs)("div",{className:"dialog-buttons",children:[Object(U.jsx)(C.a,{onClick:function(){return""!==f.trim()&&""!==w.trim()&&""!==I?(F.post("/folders/".concat(t.f_id),{name:f,url:w,description:I}),i([].concat(Object(o.a)(c),[{name:f,url:w,description:I}]))):alert("Name, URL, and description are required fields."),p(""),S(""),W(""),void O(!m)},children:"Add"}),Object(U.jsx)(C.a,{onClick:function(){return p(""),S(""),W(""),void O(!m)},children:"Cancel"})]})]})})]})},H=a(178),G=a(179),K=a(184),Q=a(176),X=a(180),Z=a(182),$=a(60),ee=a.n($),te=a(177);function ae(){return Object(U.jsxs)(B.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(U.jsx)(Q.a,{color:"inherit",href:"https://material-ui.com/",children:"Linx"})," ",(new Date).getFullYear(),"."]})}var ne=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function re(e){var t=e.setToken,a=e.setLogin,r=e.setUser,c=ne(),i=Object(n.useState)(""),o=Object(s.a)(i,2),l=o[0],j=o[1],b=Object(n.useState)(""),m=Object(s.a)(b,2),O=m[0],x=m[1],f=function(){var e=Object(d.a)(u.a.mark((function e(a){var n,c,i,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""===l.trim()||""===O.trim()){e.next=6;break}return e.next=4,_.a.post("/signin",{email:l.toLocaleLowerCase(),password:O});case 4:(n=e.sent).data.user?(c=n.data,i=c.user,s=c.token,r({u_id:i.u_id,first_name:i.first_name,last_name:i.last_name,email:i.email}),t({token:s})):n.data.message&&(alert(n.data.message),j(""),x(""));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)(te.a,{component:"main",maxWidth:"xs",children:[Object(U.jsx)(H.a,{}),Object(U.jsxs)("div",{className:c.paper,children:[Object(U.jsx)(h.a,{className:c.avatar,children:Object(U.jsx)(ee.a,{})}),Object(U.jsx)(B.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(U.jsxs)("form",{className:c.form,noValidate:!0,children:[Object(U.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Email Address",autoComplete:"email",autoFocus:!0,value:l,onChange:function(e){return j(e.target.value.toLocaleLowerCase())}}),Object(U.jsx)(k.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,label:"Password",type:"password",autoComplete:"current-password",value:O,onChange:function(e){return x(e.target.value)}}),Object(U.jsx)(G.a,{control:Object(U.jsx)(K.a,{value:"remember",color:"primary"}),label:"Remember me"}),Object(U.jsx)(C.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:c.submit,onClick:f,children:"Sign In"}),Object(U.jsxs)(X.a,{container:!0,children:[Object(U.jsx)(X.a,{item:!0,xs:!0}),Object(U.jsx)(X.a,{item:!0,children:Object(U.jsx)(Q.a,{onClick:function(){a(!1)},variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(U.jsx)(Z.a,{mt:8,children:Object(U.jsx)(ae,{})})]})}function ce(){return Object(U.jsxs)(B.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(U.jsx)(Q.a,{color:"inherit",href:"https://linxtech.herokuapp.com/",children:"Linx"})," ",(new Date).getFullYear(),"."]})}var ie=Object(j.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));function se(e){var t=e.setLogin,a=ie(),r=Object(n.useState)(""),c=Object(s.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)(""),j=Object(s.a)(l,2),b=j[0],m=j[1],O=Object(n.useState)(""),x=Object(s.a)(O,2),f=x[0],p=x[1],g=Object(n.useState)(""),v=Object(s.a)(g,2),y=v[0],N=v[1],w=function(){var e=Object(d.a)(u.a.mark((function e(a){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a.preventDefault(),""===i.trim()||""===b.trim()||""===f.toLocaleLowerCase().trim()||""===y.trim()){e.next=8;break}return e.next=4,_.a.post("/signup",{first_name:i,last_name:b,email:f.toLocaleLowerCase(),password:y});case 4:(n=e.sent).data.errorMessage?(alert(n.data.errorMessage),p(""),N("")):t(!0),e.next=9;break;case 8:alert("All fields are required.");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(U.jsxs)(te.a,{component:"main",maxWidth:"xs",children:[Object(U.jsx)(H.a,{}),Object(U.jsxs)("div",{className:a.paper,children:[Object(U.jsx)(h.a,{className:a.avatar,children:Object(U.jsx)(ee.a,{})}),Object(U.jsx)(B.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(U.jsxs)("form",{className:a.form,noValidate:!0,children:[Object(U.jsxs)(X.a,{container:!0,spacing:2,children:[Object(U.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(U.jsx)(k.a,{autoComplete:"fname",variant:"outlined",required:!0,fullWidth:!0,label:"First Name",autoFocus:!0,value:i,onChange:function(e){return o(e.target.value)}})}),Object(U.jsx)(X.a,{item:!0,xs:12,sm:6,children:Object(U.jsx)(k.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Last Name",autoComplete:"lname",value:b,onChange:function(e){return m(e.target.value)}})}),Object(U.jsx)(X.a,{item:!0,xs:12,children:Object(U.jsx)(k.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Email Address",autoComplete:"email",value:f,onChange:function(e){return p(e.target.value)}})}),Object(U.jsx)(X.a,{item:!0,xs:12,children:Object(U.jsx)(k.a,{variant:"outlined",required:!0,fullWidth:!0,label:"Password",type:"password",autoComplete:"current-password",value:y,onChange:function(e){return N(e.target.value)}})}),Object(U.jsx)(X.a,{item:!0,xs:12,children:Object(U.jsx)(G.a,{control:Object(U.jsx)(K.a,{value:"allowExtraEmails",color:"primary"}),label:"I want to receive updates via email."})})]}),Object(U.jsx)(C.a,{onClick:w,type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:a.submit,children:"Sign Up"}),Object(U.jsx)(X.a,{container:!0,justify:"flex-end",children:Object(U.jsx)(X.a,{item:!0,children:Object(U.jsx)(Q.a,{onClick:function(){t(!0)},variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(U.jsx)(Z.a,{mt:5,children:Object(U.jsx)(ce,{})})]})}var oe=function(e){var t=e.setToken,a=e.setUser,r=Object(n.useState)(!0),c=Object(s.a)(r,2),i=c[0],o=c[1];return i?Object(U.jsx)(re,{setToken:t,setLogin:o,setUser:a}):Object(U.jsx)(se,{setLogin:o})};var le=function(){var e=Object(n.useState)(null),t=Object(s.a)(e,2),a=t[0],r=t[1],c=function(){var e=Object(n.useState)(function(){var e=sessionStorage.getItem("token"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.token}()),t=Object(s.a)(e,2),a=t[0],r=t[1];return{setToken:function(e){sessionStorage.setItem("token",JSON.stringify(e)),r(e.token)},logout:function(){sessionStorage.setItem("token",null),r(null)},token:a}}(),i=c.token,o=c.setToken,l=c.logout,u=function(){var e=Object(n.useState)(function(){var e=sessionStorage.getItem("user"),t=JSON.parse(e);return null===t||void 0===t?void 0:t.user}()),t=Object(s.a)(e,2),a=t[0],r=t[1];return{setUser:function(e){sessionStorage.setItem("user",JSON.stringify({user:e})),r(e)},user:a,logoutUser:function(){sessionStorage.setItem("user",null),r(null)}}}(),d=u.user,j=u.setUser,b=u.logoutUser;return i?Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(I,{setSelectedFolder:r,user:d}),Object(U.jsxs)("div",{className:"body",children:[Object(U.jsx)(Y,{logout:l,logoutUser:b,user:d}),Object(U.jsx)("div",{className:"container",children:Object(U.jsx)(V,{selectedFolder:a})})]})]}):Object(U.jsx)(oe,{setToken:o,setUser:j})},ue=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,190)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),c(e),i(e)}))};i.a.render(Object(U.jsx)(r.a.StrictMode,{children:Object(U.jsx)(le,{})}),document.getElementById("root")),ue()}},[[138,1,2]]]);
//# sourceMappingURL=main.dfda03dc.chunk.js.map